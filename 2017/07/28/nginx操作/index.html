<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>nginx操作 | ZKBOYS</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="nginx 操作 反向代理（Reverse Proxy）方式是指以代理服务器来接受internet上的连接请求，然后将请求转发给内部网络上的服务器，并将从服务器上得到的结果返回给internet上请求连接的客户端，此时代理服务器对外就表现为一个服务器。  安装1sudo apt-get install nginx 启动12进入服务器nginx目录：cd /etc/nginx/执行：sudo ngi">
<meta name="keywords" content="nginx">
<meta property="og:type" content="article">
<meta property="og:title" content="nginx操作">
<meta property="og:url" content="http://zkboys.com/2017/07/28/nginx操作/index.html">
<meta property="og:site_name" content="ZKBOYS">
<meta property="og:description" content="nginx 操作 反向代理（Reverse Proxy）方式是指以代理服务器来接受internet上的连接请求，然后将请求转发给内部网络上的服务器，并将从服务器上得到的结果返回给internet上请求连接的客户端，此时代理服务器对外就表现为一个服务器。  安装1sudo apt-get install nginx 启动12进入服务器nginx目录：cd /etc/nginx/执行：sudo ngi">
<meta property="og:locale" content="zh-CN">
<meta property="og:updated_time" content="2017-07-28T02:49:55.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="nginx操作">
<meta name="twitter:description" content="nginx 操作 反向代理（Reverse Proxy）方式是指以代理服务器来接受internet上的连接请求，然后将请求转发给内部网络上的服务器，并将从服务器上得到的结果返回给internet上请求连接的客户端，此时代理服务器对外就表现为一个服务器。  安装1sudo apt-get install nginx 启动12进入服务器nginx目录：cd /etc/nginx/执行：sudo ngi">
  
  
    <link rel="icon" href="/favicon.png">
  
  
  <link rel="stylesheet" href="/css/fonts-googleapis/fonts-googleapis.css">
  
  <link rel="stylesheet" href="/css/style.css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header" style="overflow: hidden">
    <div id="banner">
        <iframe id="canvas-animation" src="/canvas-animation/1.html" frameborder="0" style="width: 100%; height: 100%"></iframe>
    </div>
    <div id="header-outer">
        <div class="outer">
            <div id="header-title" class="inner">
                <a href="/">
                  <div class="header-img"></div>
                </a>
                <h1 id="logo-wrap">
                    <a href="/" id="logo">ZKBOYS</a>
                </h1>
                
                <h2 id="subtitle-wrap">
                    <a href="/" id="subtitle">I&#39;m a 博客</a>
                </h2>
                
            </div>
            <div id="header-inner" class="inner">
                <nav id="main-nav">
                    <a id="main-nav-toggle" class="nav-icon"></a>
                    
                    <a class="main-nav-link" href="/">Home</a>
                    
                    <a class="main-nav-link" href="/archives">Archives</a>
                    
                </nav>
                <nav id="sub-nav">
                    
                    <a id="nav-search-btn" class="nav-icon" title="搜索"></a>
                </nav>
                <div id="search-form-wrap">
                    <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://zkboys.com"></form>
                </div>
            </div>
            <svg xmlns="http://www.w3.org/2000/svg" version="1.1">
                <defs>
                    <filter id="liquid">
                        <feGaussianBlur in="SourceGraphic" stdDeviation="10" result="blur"></feGaussianBlur>
                        <feColorMatrix in="blur" mode="matrix" values="1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 40 -10"></feColorMatrix>
                    </filter>
                </defs>
            </svg>
        </div>
    </div>
</header>

      <div class="outer">
        <section id="main"><article id="post-nginx操作" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/07/28/nginx操作/" class="article-date">
  <time datetime="2017-07-28T02:39:42.000Z" itemprop="datePublished">2017-07-28</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/后端/">后端</a>►<a class="article-category-link" href="/categories/后端/nginx/">nginx</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      nginx操作
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        
          <div id="toc" class="toc-article">
            <strong class="toc-title">文章目录</strong>
            <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#nginx-操作"><span class="toc-number">1.</span> <span class="toc-text">nginx 操作</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#安装"><span class="toc-number">1.1.</span> <span class="toc-text">安装</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#启动"><span class="toc-number">1.2.</span> <span class="toc-text">启动</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#查看进程"><span class="toc-number">1.3.</span> <span class="toc-text">查看进程</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#停止"><span class="toc-number">1.4.</span> <span class="toc-text">停止</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#重启"><span class="toc-number">1.5.</span> <span class="toc-text">重启</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#pid文件丢失问题解决方法"><span class="toc-number">1.6.</span> <span class="toc-text">pid文件丢失问题解决方法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#nginx-config配置"><span class="toc-number">1.7.</span> <span class="toc-text">nginx.config配置</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#nginxWebSocket配置"><span class="toc-number">1.8.</span> <span class="toc-text">nginxWebSocket配置</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#平时处理nginx用到的一些东西："><span class="toc-number">1.9.</span> <span class="toc-text">平时处理nginx用到的一些东西：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#原先-www-eking99-com-nginx配置："><span class="toc-number">1.10.</span> <span class="toc-text">原先 www.eking99.com nginx配置：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#原www-eking-com-nginx配置："><span class="toc-number">1.11.</span> <span class="toc-text">原www.eking.com nginx配置：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#一般服务器nginx位置："><span class="toc-number">1.12.</span> <span class="toc-text">一般服务器nginx位置：</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#nginx目录中文件及其作用："><span class="toc-number">1.12.1.</span> <span class="toc-text">nginx目录中文件及其作用：</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#前后端分离-ngnix配置："><span class="toc-number">1.13.</span> <span class="toc-text">前后端分离 ngnix配置：</span></a></li></ol></li></ol>
          </div>
        
        <h1 id="nginx-操作"><a href="#nginx-操作" class="headerlink" title="nginx 操作"></a>nginx 操作</h1><blockquote>
<p>反向代理（Reverse Proxy）方式是指以代理服务器来接受internet上的连接请求，然后将请求转发给内部网络上的服务器，并将从服务器上得到的结果返回给internet上请求连接的客户端，此时代理服务器对外就表现为一个服务器。</p>
</blockquote>
<h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install nginx</span><br></pre></td></tr></table></figure>
<h2 id="启动"><a href="#启动" class="headerlink" title="启动"></a>启动</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">进入服务器nginx目录：cd /etc/nginx/</span><br><span class="line">执行：sudo nginx</span><br></pre></td></tr></table></figure>
<h2 id="查看进程"><a href="#查看进程" class="headerlink" title="查看进程"></a>查看进程</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ps -ef|grep nginx</span><br></pre></td></tr></table></figure>
<h2 id="停止"><a href="#停止" class="headerlink" title="停止"></a>停止</h2><p>waiting for the worker processes to finish serving current requests<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo nginx -s quit 或 sudo kill -s QUIT 1628（进程编号）</span><br></pre></td></tr></table></figure></p>
<p>without waiting for the worker processes to finish serving current requests<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo nginx -s stop</span><br></pre></td></tr></table></figure></p>
<h2 id="重启"><a href="#重启" class="headerlink" title="重启"></a>重启</h2><p>更改配置文件之后需要重启<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo nginx -s reload</span><br></pre></td></tr></table></figure></p>
<p>Once the master process receives the signal to reload configuration, it checks the syntax validity of the new configuration file and tries to apply the configuration provided in it. If this is a success, the master process starts new worker processes and sends messages to old worker processes, requesting them to shut down. Otherwise, the master process rolls back the changes and continues to work with the old configuration. Old worker processes, receiving a command to shut down, stop accepting new connections and continue to service current requests until all such requests are serviced. After that, the old worker processes exit.</p>
<p>一旦主线程得到重启命令，它会先校验配置是否正确，如果正确，主线程会启动新的worker线程，关闭旧的worker线程。否则，主线程会回滚到原先的配置，旧的worker线程会得到一个shut down命令，停止接受新连接，但是会继续服务当前请求，当所有的请求处理完之后，会退出。</p>
<p>官网这段话什么意思？如果配置错误，master会roll back，但是worker还是会exit？</p>
<h2 id="pid文件丢失问题解决方法"><a href="#pid文件丢失问题解决方法" class="headerlink" title="pid文件丢失问题解决方法"></a>pid文件丢失问题解决方法</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wangshubin@pc:/etc/nginx$ sudo nginx -c /etc/nginx/nginx.conf</span><br></pre></td></tr></table></figure>
<h2 id="nginx-config配置"><a href="#nginx-config配置" class="headerlink" title="nginx.config配置"></a>nginx.config配置</h2><p>这个文件中的配置基本上是没动,只是添加两个include</p>
<p>具体的配置在sites-enabled和sites-available中<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">user wangshubin;</span><br><span class="line"></span><br><span class="line">worker_processes 4;</span><br><span class="line"></span><br><span class="line">pid /run/nginx.pid;</span><br><span class="line"></span><br><span class="line">events &#123;</span><br><span class="line"></span><br><span class="line">     worker_connections 768;</span><br><span class="line"></span><br><span class="line">     # multi_accept on;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">http &#123;</span><br><span class="line"></span><br><span class="line">     ##</span><br><span class="line"></span><br><span class="line">     # Basic Settings</span><br><span class="line"></span><br><span class="line">     ##</span><br><span class="line"></span><br><span class="line">     sendfile on;</span><br><span class="line"></span><br><span class="line">     tcp_nopush on;</span><br><span class="line"></span><br><span class="line">     tcp_nodelay on;</span><br><span class="line"></span><br><span class="line">     keepalive_timeout 65;</span><br><span class="line"></span><br><span class="line">     types_hash_max_size 2048;</span><br><span class="line"></span><br><span class="line">        client_max_body_size 10m;</span><br><span class="line"></span><br><span class="line">     # server_tokens off;</span><br><span class="line"></span><br><span class="line">     # server_names_hash_bucket_size 64;</span><br><span class="line"></span><br><span class="line">     # server_name_in_redirect off;</span><br><span class="line"></span><br><span class="line">     include /etc/nginx/mime.types;</span><br><span class="line"></span><br><span class="line">     default_type application/octet-stream;</span><br><span class="line"></span><br><span class="line">     ##</span><br><span class="line"></span><br><span class="line">     # Logging Settings</span><br><span class="line"></span><br><span class="line">     ##</span><br><span class="line"></span><br><span class="line">     access_log /var/log/nginx/access.log;</span><br><span class="line"></span><br><span class="line">     error_log /var/log/nginx/error.log;</span><br><span class="line"></span><br><span class="line">     ##</span><br><span class="line"></span><br><span class="line">     # Gzip Settings</span><br><span class="line"></span><br><span class="line">     ##</span><br><span class="line"></span><br><span class="line">     gzip on;</span><br><span class="line"></span><br><span class="line">     gzip_disable &quot;msie6&quot;;</span><br><span class="line"></span><br><span class="line">     # gzip_vary on;</span><br><span class="line"></span><br><span class="line">     # gzip_proxied any;</span><br><span class="line"></span><br><span class="line">     # gzip_comp_level 6;</span><br><span class="line"></span><br><span class="line">     # gzip_buffers 16 8k;</span><br><span class="line"></span><br><span class="line">     # gzip_http_version 1.1;</span><br><span class="line"></span><br><span class="line">     # gzip_types text/plain text/css application/json application/x-javascript text/xml application/xml application/xml+rss text/javascript;</span><br><span class="line"></span><br><span class="line">     ##</span><br><span class="line"></span><br><span class="line">     # nginx-naxsi config</span><br><span class="line"></span><br><span class="line">     ##</span><br><span class="line"></span><br><span class="line">     # Uncomment it if you installed nginx-naxsi</span><br><span class="line"></span><br><span class="line">     ##</span><br><span class="line"></span><br><span class="line">     #include /etc/nginx/naxsi_core.rules;</span><br><span class="line"></span><br><span class="line">     ##</span><br><span class="line"></span><br><span class="line">     # nginx-passenger config</span><br><span class="line"></span><br><span class="line">     ##</span><br><span class="line"></span><br><span class="line">     # Uncomment it if you installed nginx-passenger</span><br><span class="line"></span><br><span class="line">     ##</span><br><span class="line"></span><br><span class="line">     #passenger_root /usr;</span><br><span class="line"></span><br><span class="line">     #passenger_ruby /usr/bin/ruby;</span><br><span class="line"></span><br><span class="line">     ##</span><br><span class="line"></span><br><span class="line">     # Virtual Host Configs</span><br><span class="line"></span><br><span class="line">     ##</span><br><span class="line"></span><br><span class="line">     include /etc/nginx/conf.d/*.conf;</span><br><span class="line"></span><br><span class="line">     include /etc/nginx/sites-enabled/*;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#mail &#123;</span><br><span class="line"></span><br><span class="line">#     # See sample authentication script at:</span><br><span class="line"></span><br><span class="line">#     # http://wiki.nginx.org/ImapAuthenticateWithApachePhpScript</span><br><span class="line"></span><br><span class="line">#</span><br><span class="line"></span><br><span class="line">#     # auth_http localhost/auth.php;</span><br><span class="line"></span><br><span class="line">#     # pop3_capabilities &quot;TOP&quot; &quot;USER&quot;;</span><br><span class="line"></span><br><span class="line">#     # imap_capabilities &quot;IMAP4rev1&quot; &quot;UIDPLUS&quot;;</span><br><span class="line"></span><br><span class="line">#</span><br><span class="line"></span><br><span class="line">#     server &#123;</span><br><span class="line"></span><br><span class="line">#          listen     localhost:110;</span><br><span class="line"></span><br><span class="line">#          protocol   pop3;</span><br><span class="line"></span><br><span class="line">#          proxy      on;</span><br><span class="line"></span><br><span class="line">#     &#125;</span><br><span class="line"></span><br><span class="line">#</span><br><span class="line"></span><br><span class="line">#     server &#123;</span><br><span class="line"></span><br><span class="line">#          listen     localhost:143;</span><br><span class="line"></span><br><span class="line">#          protocol   imap;</span><br><span class="line"></span><br><span class="line">#          proxy      on;</span><br><span class="line"></span><br><span class="line">#     &#125;</span><br><span class="line"></span><br><span class="line">#&#125;</span><br></pre></td></tr></table></figure></p>
<p>sites-available文件夹中，inc.eking99.com文件中的内容<br>sites-enabled文件夹中保存的文件就是sites-available其中的文件<br>sites-enabled表明sites-available中哪个”网站”是激活状态<br>sites-enabled中的文件会删除,或者从sites-available中拷贝过来,是一个软链接<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"># Enumerate all the Tornado servers here</span><br><span class="line"></span><br><span class="line">upstream inc_eking_tornadoes &#123;</span><br><span class="line"></span><br><span class="line">    server 127.0.0.1:8081;</span><br><span class="line"></span><br><span class="line">    server 127.0.0.1:8082;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">proxy_next_upstream error;</span><br><span class="line"></span><br><span class="line">server &#123;</span><br><span class="line"></span><br><span class="line">    listen 80;</span><br><span class="line"></span><br><span class="line">    server_name inc.eking99.com;</span><br><span class="line"></span><br><span class="line">    # Allow file uploads</span><br><span class="line"></span><br><span class="line">    client_max_body_size 100M;</span><br><span class="line"></span><br><span class="line">    location ^~ /s/ &#123;</span><br><span class="line"></span><br><span class="line">        alias /home/admin/deploy/inc-eking-web/public/;</span><br><span class="line"></span><br><span class="line">        if ($query_string) &#123;</span><br><span class="line"></span><br><span class="line">            expires max;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    #location = /favicon.ico &#123;</span><br><span class="line"></span><br><span class="line">    #    rewrite (.*) /s/favicon.ico;</span><br><span class="line"></span><br><span class="line">    #&#125;</span><br><span class="line"></span><br><span class="line">    #location = /robots.txt &#123;</span><br><span class="line"></span><br><span class="line">    #    rewrite (.*) /s/robots.txt;</span><br><span class="line"></span><br><span class="line">    #&#125;</span><br><span class="line"></span><br><span class="line">    location / &#123;</span><br><span class="line"></span><br><span class="line">        proxy_read_timeout 1800;</span><br><span class="line"></span><br><span class="line">        proxy_pass_header Server;</span><br><span class="line"></span><br><span class="line">        proxy_set_header Host $http_host;</span><br><span class="line"></span><br><span class="line">        proxy_redirect false;</span><br><span class="line"></span><br><span class="line">        proxy_set_header X-Real-IP $remote_addr;</span><br><span class="line"></span><br><span class="line">        proxy_set_header X-Scheme $scheme;</span><br><span class="line"></span><br><span class="line">        proxy_pass http://inc_eking_tornadoes;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="nginxWebSocket配置"><a href="#nginxWebSocket配置" class="headerlink" title="nginxWebSocket配置"></a>nginxWebSocket配置</h2><p>两种方式</p>
<ol>
<li><p>修改nginx.config:</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">map $http_upgrade $connection_upgrade&#123;</span><br><span class="line">     default upgrade;</span><br><span class="line">     &quot;&quot; close;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>  具体网站配置文件：</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">proxy_http_version 1.1;</span><br><span class="line">proxy_set_header Upgrade $http_upgrade;</span><br><span class="line">proxy_set_header Connection &quot;upgrade&quot;;</span><br></pre></td></tr></table></figure>
</li>
<li><p>将这两个配置都写到具体网站配置文件中。（将map…放到server配置上面）</p>
</li>
</ol>
<h2 id="平时处理nginx用到的一些东西："><a href="#平时处理nginx用到的一些东西：" class="headerlink" title="平时处理nginx用到的一些东西："></a>平时处理nginx用到的一些东西：</h2><p>一、具体用法</p>
<pre><code>ln -s 源文件 目标文件

当我们需要在不同的目录，用到相同的文件时，我们不需要在每一个需要的目录下都放一个必须相同的文件，我们只要在某个固定的目录，放上该文件，然后在其它的目录下用ln命令链接（link）它就可以，不必重复的占用磁盘空间，只生成目标文件的一个镜像。

例如：ln -s /tmp/less /usr/local/bin/less
</code></pre><p>二、注意：</p>
<pre><code>（1）ln命令会保持你每一处连接文件的同步性，不论更改源文件还是目标文件，另一处文件也会有相 同的改动。

（2）ln命令分为软连接和硬链接（无参数-s）。与软连接不同的是，硬链接会在你选定的位置上生成一个与原来文件大小相同的文件。无论是软连接还是硬链接都具有文件的同步性。

（3）当一个存储空间，具有几个硬链接时，删除其中的一个，并不会对存储空间进行操作，所以其它的硬链接不会受到影响。

（4）ln默认时间里硬链接（无参数-s）。
</code></pre><h2 id="原先-www-eking99-com-nginx配置："><a href="#原先-www-eking99-com-nginx配置：" class="headerlink" title="原先 www.eking99.com nginx配置："></a>原先 <a href="http://www.eking99.com" target="_blank" rel="noopener">www.eking99.com</a> nginx配置：</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">    listen 80 default_server;</span><br><span class="line">    listen [::]:80 default_server ipv6only=on;</span><br><span class="line"></span><br><span class="line">    root /home/admin/deploy/www-eking99-web;</span><br><span class="line">    index index.html index.htm;</span><br><span class="line"></span><br><span class="line">    server_name www.eking99.com;</span><br><span class="line"></span><br><span class="line">    location / &#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">server &#123;</span><br><span class="line">    listen 80;</span><br><span class="line">    server_name eking.mobi www.eking.mobi eking.umail.cn;</span><br><span class="line">    rewrite ^/(.*) http://www.eking99.com/$1 permanent;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="原www-eking-com-nginx配置："><a href="#原www-eking-com-nginx配置：" class="headerlink" title="原www.eking.com nginx配置："></a>原<a href="http://www.eking.com" target="_blank" rel="noopener">www.eking.com</a> nginx配置：</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">#all the Tornado servers here</span><br><span class="line">upstream www_eking99_tornadoes &#123;</span><br><span class="line">    server 127.0.0.1:9090;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">proxy_next_upstream error;</span><br><span class="line"></span><br><span class="line">server &#123;</span><br><span class="line">    listen 80;</span><br><span class="line">    server_name www.eking99.com eking99.com</span><br><span class="line">    # Allow file uploads</span><br><span class="line">    client_max_body_size 15M;</span><br><span class="line"></span><br><span class="line">    location ^~ /s/ &#123;</span><br><span class="line">        alias /home/admin/deploy/www-eking-web/public/;</span><br><span class="line">        if ($query_string) &#123;</span><br><span class="line">            expires max;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    location = /favicon.ico &#123;</span><br><span class="line">        rewrite (.*) /s/favicon.ico;</span><br><span class="line">    &#125;</span><br><span class="line">    location = /robots.txt &#123;</span><br><span class="line">        rewrite (.*) /s/robots.txt;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    location / &#123;</span><br><span class="line">        proxy_pass_header Server;</span><br><span class="line">        proxy_set_header Host $http_host;</span><br><span class="line">        proxy_redirect off; #老版本是false</span><br><span class="line">        proxy_set_header X-Real-IP $remote_addr;</span><br><span class="line">        proxy_set_header X-Scheme $scheme;</span><br><span class="line">        proxy_pass http://www_eking99_tornadoes;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="一般服务器nginx位置："><a href="#一般服务器nginx位置：" class="headerlink" title="一般服务器nginx位置："></a>一般服务器nginx位置：</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">/etc/nginx</span><br><span class="line">sites-available为可用配置，但是不是实际跑的配置</span><br><span class="line">sites-enable 为当前启用的配置，是sites-available的软连接</span><br></pre></td></tr></table></figure>
<h3 id="nginx目录中文件及其作用："><a href="#nginx目录中文件及其作用：" class="headerlink" title="nginx目录中文件及其作用："></a>nginx目录中文件及其作用：</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">conf.d</span><br><span class="line"></span><br><span class="line">mime.types</span><br><span class="line"></span><br><span class="line">nginx.conf</span><br><span class="line"></span><br><span class="line">sites-enabled</span><br><span class="line"></span><br><span class="line">fastcgi_params</span><br><span class="line"></span><br><span class="line">naxsi_core.rules</span><br><span class="line"></span><br><span class="line">proxy_params</span><br><span class="line"></span><br><span class="line">uwsgi_params</span><br><span class="line"></span><br><span class="line">koi-utf</span><br><span class="line"></span><br><span class="line">naxsi.rules</span><br><span class="line"></span><br><span class="line">scgi_params</span><br><span class="line"></span><br><span class="line">win-utf</span><br><span class="line"></span><br><span class="line">koi-win</span><br><span class="line"></span><br><span class="line">naxsi-ui.conf.1.4.1</span><br><span class="line"></span><br><span class="line">sites-available</span><br></pre></td></tr></table></figure>
<h2 id="前后端分离-ngnix配置："><a href="#前后端分离-ngnix配置：" class="headerlink" title="前后端分离 ngnix配置："></a>前后端分离 ngnix配置：</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"># 服务地址</span><br><span class="line">upstream api_service &#123;</span><br><span class="line">  server localhost:8080;</span><br><span class="line">  keepalive 2000;</span><br><span class="line">&#125;</span><br><span class="line">#</span><br><span class="line">server &#123;</span><br><span class="line">        listen       80;</span><br><span class="line">        server_name  localhost;</span><br><span class="line">        location / &#123;</span><br><span class="line">          root /home/app/nginx/html;</span><br><span class="line">          index index.html;</span><br><span class="line">          try_files $uri $uri/ /index.html; #react-router 防止页面刷新出现404</span><br><span class="line">        &#125;</span><br><span class="line">        location ^~/api &#123; // 代理ajax请求，前端的ajax请求配置了统一的baseUrl = ‘/api’</span><br><span class="line">           proxy_pass http://api_service/;</span><br><span class="line">           proxy_set_header Host  $http_host;</span><br><span class="line">           proxy_set_header Connection close;</span><br><span class="line">           proxy_set_header X-Real-IP $remote_addr;</span><br><span class="line">           proxy_set_header X-Forwarded-Server $host;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://zkboys.com/2017/07/28/nginx操作/" data-id="cje99vq01004jeo9fwkknjs2m" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/nginx/">nginx</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2017/08/09/前端与产品约定/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          前端与产品约定
        
      </div>
    </a>
  
  
    <a href="/2017/07/12/web打印/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">web打印</div>
    </a>
  
</nav>

  
</article>



	
	<section id="comment">
		<!-- 多说评论框 start -->
		<div class="ds-thread" data-thread-key="2017/07/28/nginx操作/" data-title="nginx操作" data-url="http://zkboys.com/2017/07/28/nginx操作/"></div>
		<!-- 多说评论框 end -->
		<!-- 多说公共JS代码 start (一个网页只需插入一次) -->
		<script type="text/javascript">
		var duoshuoQuery = {short_name:"zkboys"};
		(function() {
			var ds = document.createElement('script');
			ds.type = 'text/javascript';ds.async = true;
			ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
			ds.charset = 'UTF-8';
			(document.getElementsByTagName('head')[0]
			 || document.getElementsByTagName('body')[0]).appendChild(ds);
		})();
		</script>
		<!-- 多说公共JS代码 end -->
	</section>
	


</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul class="recent-post">
        
          <li>
            <a href="/2018/02/27/cross-env/">cross-env</a>
          </li>
        
          <li>
            <a href="/2017/08/15/react相关面试题/">react相关面试题</a>
          </li>
        
          <li>
            <a href="/2017/08/09/前端与产品约定/">前端与产品约定</a>
          </li>
        
          <li>
            <a href="/2017/07/28/nginx操作/">nginx操作</a>
          </li>
        
          <li>
            <a href="/2017/07/12/web打印/">web打印</a>
          </li>
        
          <li>
            <a href="/2017/06/02/关于组件化/">关于组件化</a>
          </li>
        
          <li>
            <a href="/2017/05/22/前端leader工作任务/">前端leader工作任务</a>
          </li>
        
          <li>
            <a href="/2017/05/05/前后端分离开发约定/">前后端分离开发约定</a>
          </li>
        
          <li>
            <a href="/2017/04/12/前端最佳实践/">前端最佳实践</a>
          </li>
        
          <li>
            <a href="/2017/04/02/GraphQL/">GraphQL</a>
          </li>
        
      </ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">分类</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Android/">Android</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/android/">android</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/前端/">前端</a><span class="category-list-count">52</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/前端/CSS/">CSS</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/前端/HTML/">HTML</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/前端/JS/">JS</a><span class="category-list-count">29</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/前端/构建/">构建</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/前端/监控/">监控</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/后端/">后端</a><span class="category-list-count">6</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/后端/nginx/">nginx</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/后端/node/">node</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/后端/shell/">shell</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/后端/数据库/">数据库</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/实现方案/">实现方案</a><span class="category-list-count">9</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/工具/">工具</a><span class="category-list-count">12</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/规范/">规范</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/资源/">资源</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/转载/">转载</a><span class="category-list-count">1</span></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/CSS/">CSS</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/GraphQL/">GraphQL</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/React/">React</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Redux/">Redux</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Vue/">Vue</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/blog/">blog</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/color/">color</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/cross-env/">cross-env</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/css/">css</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/docs/">docs</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/doctype/">doctype</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/emmet/">emmet</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/git/">git</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/github/">github</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hexo/">hexo</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/html/">html</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/js/">js</a><span class="tag-list-count">19</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/meta/">meta</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mongodb/">mongodb</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nginx/">nginx</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/node/">node</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/npm/">npm</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/polyfill/">polyfill</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ssh-key/">ssh-key</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/state-machine/">state-machine</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/tabs/">tabs</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vue/">vue</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/webpack/">webpack</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/分页/">分页</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/前端上报错误信息/">前端上报错误信息</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/单页面/">单页面</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/安全/">安全</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/布局/">布局</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/弹框/">弹框</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/微信/">微信</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/打印/">打印</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/按钮/">按钮</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/数据库/">数据库</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/最佳实践/">最佳实践</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/测试/">测试</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/环境搭建/">环境搭建</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/算法/">算法</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/编码规范/">编码规范</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/规范/">规范</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/错误/">错误</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/面试/">面试</a><span class="tag-list-count">1</span></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签云</h3>
    <div class="widget tagcloud">
      <a href="/tags/CSS/" style="font-size: 10px;">CSS</a> <a href="/tags/GraphQL/" style="font-size: 10px;">GraphQL</a> <a href="/tags/React/" style="font-size: 18.33px;">React</a> <a href="/tags/Redux/" style="font-size: 10px;">Redux</a> <a href="/tags/Vue/" style="font-size: 10px;">Vue</a> <a href="/tags/blog/" style="font-size: 10px;">blog</a> <a href="/tags/color/" style="font-size: 10px;">color</a> <a href="/tags/cross-env/" style="font-size: 10px;">cross-env</a> <a href="/tags/css/" style="font-size: 15px;">css</a> <a href="/tags/docs/" style="font-size: 10px;">docs</a> <a href="/tags/doctype/" style="font-size: 10px;">doctype</a> <a href="/tags/emmet/" style="font-size: 10px;">emmet</a> <a href="/tags/git/" style="font-size: 13.33px;">git</a> <a href="/tags/github/" style="font-size: 13.33px;">github</a> <a href="/tags/hexo/" style="font-size: 10px;">hexo</a> <a href="/tags/html/" style="font-size: 11.67px;">html</a> <a href="/tags/js/" style="font-size: 20px;">js</a> <a href="/tags/meta/" style="font-size: 11.67px;">meta</a> <a href="/tags/mongodb/" style="font-size: 11.67px;">mongodb</a> <a href="/tags/nginx/" style="font-size: 10px;">nginx</a> <a href="/tags/node/" style="font-size: 15px;">node</a> <a href="/tags/npm/" style="font-size: 10px;">npm</a> <a href="/tags/polyfill/" style="font-size: 10px;">polyfill</a> <a href="/tags/ssh-key/" style="font-size: 10px;">ssh-key</a> <a href="/tags/state-machine/" style="font-size: 10px;">state-machine</a> <a href="/tags/tabs/" style="font-size: 10px;">tabs</a> <a href="/tags/vue/" style="font-size: 10px;">vue</a> <a href="/tags/webpack/" style="font-size: 18.33px;">webpack</a> <a href="/tags/分页/" style="font-size: 10px;">分页</a> <a href="/tags/前端上报错误信息/" style="font-size: 10px;">前端上报错误信息</a> <a href="/tags/单页面/" style="font-size: 10px;">单页面</a> <a href="/tags/安全/" style="font-size: 10px;">安全</a> <a href="/tags/布局/" style="font-size: 11.67px;">布局</a> <a href="/tags/弹框/" style="font-size: 10px;">弹框</a> <a href="/tags/微信/" style="font-size: 10px;">微信</a> <a href="/tags/打印/" style="font-size: 10px;">打印</a> <a href="/tags/按钮/" style="font-size: 10px;">按钮</a> <a href="/tags/数据库/" style="font-size: 11.67px;">数据库</a> <a href="/tags/最佳实践/" style="font-size: 16.67px;">最佳实践</a> <a href="/tags/测试/" style="font-size: 10px;">测试</a> <a href="/tags/环境搭建/" style="font-size: 10px;">环境搭建</a> <a href="/tags/算法/" style="font-size: 11.67px;">算法</a> <a href="/tags/编码规范/" style="font-size: 10px;">编码规范</a> <a href="/tags/规范/" style="font-size: 10px;">规范</a> <a href="/tags/错误/" style="font-size: 10px;">错误</a> <a href="/tags/面试/" style="font-size: 10px;">面试</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">二月 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">八月 2017</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/07/">七月 2017</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/06/">六月 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">五月 2017</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">四月 2017</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">三月 2017</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">二月 2017</a><span class="archive-list-count">10</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/01/">一月 2017</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/12/">十二月 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/11/">十一月 2016</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/10/">十月 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/09/">九月 2016</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/08/">八月 2016</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/07/">七月 2016</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/06/">六月 2016</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/05/">五月 2016</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/04/">四月 2016</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/03/">三月 2016</a><span class="archive-list-count">19</span></li></ul>
    </div>
  </div>


  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2018 WangShubin<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    
<script src="/js/jquery.min.js"></script>

<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>

<script src="/js/script.js"></script>


<script>
    function getRandomNum(min, max) {
        var range = max - min;
        var rand = Math.random();
        return (min + Math.round(rand * range));
    }
    $(function () {
        var n = getRandomNum(1, 10);
        var animationSrc = '/canvas-animation/' + n + '.html';
        $('#canvas-animation').attr('src', animationSrc);
    });
</script>

  </div>
</body>
</html>